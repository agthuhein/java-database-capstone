<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Smart Clinic Management System</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/images/favicon.png" />

    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/index.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />

    <!-- Utilities / Render helpers -->
    <script src="./js/util.js" defer></script>
    <script src="./js/render.js" defer></script>

    <!-- Components -->
    <script src="./js/components/header.js" defer></script>
    <script src="./js/components/footer.js" defer></script>
</head>

<body>
<main>
    <div class="container">
        <div class="wrapper">
            <!-- Header Placeholder -->
            <div id="header"></div>

            <!-- Main Content -->
            <main class="main-content">
                <h2 id="roleTitle">Select Your Role</h2>

                <div class="role-buttons" id="roleButtons">
                    <button id="adminBtn" class="btn role-btn" onclick="selectRole('admin')">
                        Admin
                    </button>

                    <button id="doctorBtn" class="btn role-btn" onclick="selectRole('doctor')">
                        Doctor
                    </button>

                    <button id="patientBtn" class="btn role-btn" onclick="selectRole('patient')">
                        Patient
                    </button>
                </div>

                <!-- Optional helper text -->
                <p id="roleHint" class="hint">
                    Choose a role to continue. Your selection will be saved in your browser.
                </p>
            </main>

            <!-- Footer Placeholder -->
            <div id="footer"></div>
        </div>
    </div>
</main>

<!-- Modal (hidden by default) -->
<div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <button id="closeModal" class="modal-close" type="button" aria-label="Close modal">
            &times;
        </button>

        <div id="modal-body">
            <!-- Dynamic content injected by JS -->
            <h3 id="modalTitle">Login</h3>
            <p>Please log in to continue.</p>
        </div>
    </div>
</div>

<!-- Module script for role selection + modal behavior -->
<script type="module" src="./js/services/index.js" defer></script>

<!-- Fallback: define selectRole if your module doesnâ€™t attach it globally
     (You can remove this if your index.js sets window.selectRole) -->
<script>
    // If index.js defines window.selectRole, this won't override it.
    if (typeof window.selectRole !== "function") {
        window.selectRole = function(role) {
            localStorage.setItem("role", role);
            // Trigger modal if your module listens to this event
            window.dispatchEvent(new CustomEvent("role:selected", { detail: { role } }));
        };
    }
</script>
</body>
</html>
